export interface OnlineRuleItem {
  id: string
  text: string
  layer: number
  penalties?: number[]
  children?: OnlineRuleItem[]
  hideId?: boolean
}

export interface OnlineRules {
  maxLayer: number
  content: OnlineRuleItem[]
  title: string
  lastModified: string
}

export interface Person {
  name: string
  carNo: number
}

export enum RacePart {
  P = '练习赛',
  Q = '排位赛',
  R = '正赛',
}

export interface ReportForm {
  raceName: string
  reporter: Person
  reportee: Person
  round?: number
  series?: string
  incidentDesc: string
  incidentPlace: string
  rules: OnlineRuleItem[]
  racePart: RacePart
}

export const keywords = [
  '准入',
  '排位',
  '飞行',
  '编队',
  '限速',
  '暖胎',
  '追尾',
  '维修区',
  '套圈',
  '获利',
  '并排',
  '变线',
  '阻挡',
  '挤压',
  '抽头',
  '刹车',
  '防守',
  '进攻',
  '超车',
  '安全距离',
  '内线',
  '失控',
  '返回赛道',
  '蓝旗',
  '让车',
  '冒用',
  '代替',
]

export const onlineRules: OnlineRules = {
  title: '嗨跑赛车线上联赛竞技规则',
  lastModified: '更新于 2025.11.05，更新可能存在延迟。',
  maxLayer: 6,
  content: [
    {
      id: '1',
      text: '总纲',
      layer: 1,
      children: [
        {
          id: '1.1',
          text: '嗨跑赛车赛事的管理',
          layer: 2,
          children: [
            {
              id: '1.1.1',
              text: '嗨跑赛车赛事委员会（以下简称“赛会”）为所有嗨跑主办赛事的唯一规则制定与施行组织。',
              layer: 3,
              children: [],
            },
            {
              id: '1.1.2',
              text: '赛会为所有由本规则产生的判罚争议的仲裁工作组。',
              layer: 3,
              children: [],
            },
            {
              id: '1.1.3',
              text: '所有车手报名参赛即表示阅读、了解并遵守竞技规则，服从赛会各项决议。',
              layer: 3,
              children: [],
            },
          ],
        },
        {
          id: '1.2',
          text: '竞技规则用途',
          layer: 2,
          children: [
            {
              id: '1.2.1',
              text: '为确保赛会公平、公正地行使以上的权利，特制定本竞技规则。',
              layer: 3,
              children: [],
            },
            {
              id: '1.2.2',
              text: '本竞技规则的制订，为公平、公正、公开地开展线上赛事，以及方便管理线上赛事。',
              layer: 3,
              children: [],
            },
            {
              id: '1.2.3',
              text: '本竞技规则不应被用于阻碍任何赛事的开展，或阻碍任何赛手参与赛事。但当赛会认为有必要通过阻碍赛事或赛手以确保比赛的安全、公平和秩序时，可以采取相应措施。',
              layer: 3,
              children: [],
            },
            {
              id: '1.2.4',
              text: '本竞技规则具有完整性，任何组织或个人不得断章取义，不得在告知他人过程中截取、分段，导致他人的误解。',
              layer: 3,
              children: [],
            },
            {
              id: '1.2.5',
              text: '本竞技规则版权由嗨跑赛车所持有，仅适用于嗨跑赛车赛事平台。任何组织或个人不得在未授权的情况下，禁止使用和篡改本规则。',
              layer: 3,
              children: [],
            },
          ],
        },
        {
          id: '1.3',
          text: '对规则的了解',
          layer: 2,
          children: [
            {
              id: '1.3.1',
              text: '任何参与或组织嗨跑赛事的个人或组织，应了解并遵守对本竞技规则的所有条款，且接受任何规则所规定的对违规的处罚。',
              layer: 3,
              children: [],
            },
            {
              id: '1.3.2',
              text: '任何严重违反竞技规则的个人或组织，将有可能暂时或永久被禁止组织或参与嗨跑赛事。赛会将对任何禁赛决定做出完整解释。',
              layer: 3,
              children: [],
            },
          ],
        },
        {
          id: '1.4',
          text: '规则的改进与完善',
          layer: 2,
          children: [
            {
              id: '1.4.1',
              text: '所有选手可对竞技规则的条款提出改进意见。赛会应对所有改进意见提供回应，任何对竞技规则的改动应公示于本规则附录处。',
              layer: 3,
              children: [],
            },
            {
              id: '1.4.2',
              text: '对于比赛过程中发生的事件，在本竞技规则中无明确定义的，赛会可根据事件的严重程度或结果，以合适的尺度进行判罚，并将无明确定义的事件总结归纳为具体规则并公示。',
              layer: 3,
              children: [],
            },
            {
              id: '1.4.3',
              text: '赛会保留对竞技规则的最终解释权与裁定权。',
              layer: 3,
              children: [],
            },
          ],
        },
      ],
    },
    {
      id: '2',
      text: '选手数据与准入规定',
      layer: 1,
      children: [
        {
          id: 'desc_2',
          text: '选手数据、参赛数据、计算规则请前往数据中心查看。',
          layer: 2,
          hideId: true,
        },
        {
          id: '2.1',
          text: '选手数据',
          layer: 2,
          children: [
            {
              id: '2.1.1',
              text: '赛照等级',
              layer: 3,
              children: [
                {
                  id: 'desc_2.1.1',
                  text: '用于展现一个车手综合实力，与选手能参加的赛事级别无关。',
                  layer: 4,
                  hideId: true,
                },
              ],
            },
            {
              id: '2.1.2',
              text: '安全分',
              layer: 3,
              children: [
                {
                  id: 'desc_2.1.2',
                  text: '用于展现一个车手安全竞赛水平，大部分赛事准入与安全分挂钩。',
                  layer: 4,
                  hideId: true,
                },
              ],
            },
            {
              id: '2.1.3',
              text: 'Rating',
              layer: 3,
              children: [
                {
                  id: 'desc_2.1.3',
                  text: '用于展现一个车手综合动态评级，与选手能参加的赛事级别无关。',
                  layer: 4,
                  hideId: true,
                },
              ],
            },
            {
              id: '2.1.4',
              text: '驾照分',
              layer: 3,
              children: [
                {
                  id: '2.1.4.1',
                  text: '与安全分不同，安全分体现了一个车手的安全性与避免碰撞的控车能力。<br />但是对于不得不产生接触的赛道情况下，需要对事故的责任双方进行判定，我们可以用现实生活中的驾照扣分来类比，同时FIA等汽联赛事都有驾照分的机制。',
                  layer: 4,
                  children: [],
                  hideId: true,
                },
                {
                  id: '2.1.4.2',
                  text: '每个记分周期内，每位车手有12分',
                  layer: 4,
                  children: [],
                  hideId: true,
                },
                {
                  id: '2.1.4.3',
                  text: '记分周期计算为12个自然月，或者20场比赛，先到为准',
                  layer: 4,
                  children: [],
                  hideId: true,
                },
                {
                  id: '2.1.4.4',
                  text: '驾照分扣分累计达到6分后，在记分周期重新开始前，禁止参加黄金及以上联赛',
                  layer: 4,
                  children: [],
                  hideId: true,
                },
                {
                  id: '2.1.4.5',
                  text: '驾照分扣分累计达到8分后，在记分周期重新开始前，禁止参加白银及以上联赛',
                  layer: 4,
                  children: [],
                  hideId: true,
                },
                {
                  id: '2.1.4.6',
                  text: '当某一车手未参加满20场比赛，或当前记分周期未满一年，驾照分累计扣满12分，则计分周期与参赛场次归零，并处以禁赛，禁赛期为1-12个月不等。禁赛时长依据基础公式：12分 / 扣分场次 = 禁赛月数。禁赛期间的选手不得参与嗨跑赛车平台举办的任何赛事。',
                  layer: 4,
                  children: [],
                  hideId: true,
                },
                {
                  id: '2.1.4.7',
                  text: '扣分情况仅产生于赛后车手投诉或者仲裁委员会调查。',
                  layer: 4,
                  children: [],
                  hideId: true,
                },
                {
                  id: '2.1.4.8',
                  text: '根据竞技规则，不同的赛事投诉的处罚等级对应不同的驾照分的扣除。',
                  layer: 4,
                  children: [],
                  hideId: true,
                },
              ],
            },
          ],
        },
        {
          id: '2.2',
          text: '准入规则',
          layer: 2,
          children: [
            {
              id: '2.2.1',
              text: '所有正式比赛的准入规则将公示在网站报名页的表格内。若车手未达到准入条件，仅可参与平时自由练习，无法参加该级别的排位赛和正赛。',
              layer: 3,
              children: [],
            },
            {
              id: '2.2.2',
              text: '若车手未达到准入条件，仍上服参加比赛，将在赛后处以处罚等级四的标准判罚。',
              layer: 3,
              penalties: [4],
              children: [],
            },
            {
              id: '2.2.3',
              text: '除特定赛事规则中明确说明，对于任何有准入要求的嗨跑赛事，准入名单将不晚于该站赛前1 小时，公示在该赛事所在平台对应的嗨跑赛车参赛交流通知群。',
              layer: 3,
              children: [],
            },
            {
              id: '2.2.4',
              text: '除特定赛事规则中明确说明，自准入名单公示后到赛前 30 分钟，为该站的参赛选手补录窗口。赛会将于此时间段，受理并审核选手的补录申请。补录窗口关闭后，该站比赛的准入名单将被锁定，赛会将不受理任何选手的新的补录申请，补录窗口内的申请则照常处理。',
              layer: 3,
              children: [],
            },
          ],
        },
        {
          id: '2.3',
          text: '车手会议',
          layer: 2,
          children: [
            {
              id: 'desc_2.3',
              text: '对于明确要求车手参与车手会议的比赛，所有车手须通过指定的语音平台参加车手会议。无故不参加会议者，一经发现将取消参赛资格。',
              layer: 3,
              children: [],
              hideId: true,
            },
          ],
        },
      ],
    },
    {
      id: '3',
      text: '赛事规则',
      layer: 1,
      children: [
        {
          id: '3.1',
          text: '排位赛',
          layer: 2,
          children: [
            {
              id: '3.1.1',
              text: '排位方式',
              layer: 3,
              children: [
                {
                  id: 'desc_3.1.1',
                  text: '排位方式分为三种：',
                  layer: 4,
                  children: [],
                  hideId: true,
                },
                {
                  id: '3.1.1.a',
                  text: '限时自由排位，车手在给定的时间内自由作成绩。',
                  layer: 4,
                  children: [],
                },
                {
                  id: '3.1.1.b',
                  text: '私有排位赛，车手在赛道上无法看到其他车手，在给定的时间或圈数内做出成绩。',
                  layer: 4,
                  children: [],
                },
                {
                  id: '3.1.1.c',
                  text: '超级排位赛，给定的圈数内作出成绩，最后一圈完毕前需手动按ESC返回pit区，否则会被取消排位赛成绩。',
                  layer: 4,
                  children: [],
                },
              ],
            },
          ],
        },
        {
          id: '3.2',
          text: '赛事管理',
          layer: 2,
          children: [
            {
              id: '3.2.1',
              text: '发车',
              layer: 3,
              children: [
                {
                  id: '3.2.1.1',
                  text: '静止发车（有暖胎圈）：所有赛车在比赛开始倒计时结束后，从发车格起步，进行暖胎圈至返回发车格。返回发车格后，所有赛车在发车信号灯全部亮起至熄灭前处于静止状态，待发车信号灯熄灭后，视为比赛正式开始。',
                  layer: 4,
                  children: [],
                },
                {
                  id: '3.2.1.2',
                  text: '静止发车（无暖胎圈）：所有赛车在发车信号灯全部亮起至熄灭前处于静止状态，待发车信号灯熄灭后，视为比赛正式开始。',
                  layer: 4,
                  children: [],
                },
                {
                  id: '3.2.1.3',
                  text: '滚动发车：所有赛车在比赛开始倒计时结束后，从发车格起步，按照排位赛决定的发车顺序，按单列或双列，在不超过规定限速的情况下进行编队圈。滚动发车正式起跑方式分为2种：',
                  layer: 4,
                  children: [
                    {
                      id: '3.2.1.3.1',
                      text: '视发车信号灯决定，所有赛车在发车信号灯全部亮起至熄灭前处于编队行驶状态，待发车信灯熄灭后，视为比赛正式开始，所有车手允许解除限速及超越前车。',
                      layer: 5,
                      children: [],
                    },
                    {
                      id: '3.2.1.3.2',
                      text: '视赛道标记决定，所有赛车在通过赛事规则规定的标记点前，处于编队行驶状态。每辆赛车在通过标记点后，视为开始比赛，通过标记点的车手允许解除限速及超越前车。',
                      layer: 5,
                      children: [],
                    },
                  ],
                },
                {
                  id: '3.2.1.4',
                  text: '暖胎圈和编队圈一般情况下禁止超车，车手需保持安全距离，同时也有义务保持车阵紧凑，保证与前车车距不大于5个车身的距离。在双列编队的状况下与同一排车辆保持至少半个车身宽度的距离。当某一车俩因其自身主观驾驶原因或客观原因（机械故障、失控、车辆受损等）与在其排位顺序前一位的车辆在暖胎圈的车距超过7个车身的距离时，此时该车辆视为非正常行驶车辆，在其后的车辆有权对该车进行超越。若当该非正常行驶车辆有能力恢复正常驾驶，必须尽快回到自己原有的发车编队位置，此时有权对排位顺序在其后的车辆进行超越。在回到原本发车编队位置后，视为恢复正常编队驾驶，不再允许超越。',
                  layer: 4,
                  children: [],
                },
                {
                  id: '3.2.1.5',
                  text: '暖胎圈或编队圈因不按照相关规定而发生事故时，违反规定的车手负事故全责。',
                  layer: 4,
                  children: [
                    {
                      id: '3.2.1.5.1',
                      text: '如果后车追尾造成一般事故，后车处罚等级一。如果造成严重事故导致前车退赛或者pit区发车，后车处罚等级二或等级三。',
                      layer: 5,
                      children: [],
                      penalties: [1, 2, 3],
                    },
                    {
                      id: '3.2.1.5.2',
                      text: '若前车因未观察后方状况紧急刹车导致后车追尾，前车处罚等级一。导致后车退赛或者pit区发车，前车处罚等级二或等级三。',
                      layer: 5,
                      children: [],
                      penalties: [1, 2, 3],
                    },
                    {
                      id: '3.2.1.5.3',
                      text: '暖胎圈后，归位准备静止发车时，失误导致其他车辆损坏者，处罚等级一；导致严重事故致他人退赛或严重损坏者，处罚等级二或等级三。',
                      layer: 5,
                      children: [],
                      penalties: [1, 2, 3],
                    },
                  ],
                },
                {
                  id: '3.2.1.6',
                  text: '对于没有系统自动限速的场景，头车须在编队时遵守限速规则，超速20%将处以处罚等级一；头车在编队时不得以低于限速20%的速度压车，违反将处以处罚等级一；头车扰乱比赛秩序，处罚等级二或等级三；',
                  layer: 4,
                  children: [],
                  penalties: [1, 2, 3],
                },
                {
                  id: '3.2.1.7',
                  text: '赛会有权视具体比赛条件或状况改变比赛发车规则及形式，比赛发车形式以最终决定方案为准。',
                  layer: 4,
                  children: [],
                },
              ],
            },
            {
              id: '3.2.2',
              text: '抢跑',
              layer: 3,
              children: [
                {
                  id: '3.2.2.1',
                  text: '发车位置与排位位置不符，处罚等级一',
                  layer: 4,
                  children: [],
                  penalties: [1],
                },
                {
                  id: '3.2.2.2',
                  text: '在发车信号亮起前离开发车位，若无系统判罚，处罚等级一',
                  layer: 4,
                  children: [],
                  penalties: [1],
                },
                {
                  id: '3.2.2.3',
                  text: '静止发车时，在发车信号亮起前开始加速，若无系统判罚，处罚等级一',
                  layer: 4,
                  children: [],
                  penalties: [1],
                },
                {
                  id: '3.2.2.4',
                  text: '滚动发车时提前加速，或破坏队形，处罚等级一；若因此造成他人车辆损坏或他人退赛者，处罚等级二或等级三。若在比赛重启后因此发生大规模车祸，处罚等级四。',
                  layer: 4,
                  children: [],
                  penalties: [1, 2, 3, 4],
                },
                {
                  id: '3.2.2.5',
                  text: '若因网络或系统故障等问题导致的抢跑误判，仍以系统判罚为准，赛会无需更改比赛结果。',
                  layer: 4,
                  children: [],
                },
              ],
            },
            {
              id: '3.2.3',
              text: '重启比赛',
              layer: 3,
              children: [
                {
                  id: 'desc_3.2.3',
                  text: '在以下情况下，赛事主管应重启比赛：',
                  layer: 4,
                  children: [],
                  hideId: true,
                },
                {
                  id: '3.2.3.1',
                  text: '参赛总数的1/3及以上赛车无法完成起步编队或暖胎圈。',
                  layer: 4,
                  children: [],
                },
                {
                  id: '3.2.3.2',
                  text: '参赛总数的1/3及以上赛车在发车时因客观原因无法继续比赛，具体规则如下：',
                  layer: 4,
                  children: [
                    {
                      id: '3.2.3.2.1',
                      text: '因选手硬件设备故障导致无法继续比赛。',
                      layer: 5,
                      children: [],
                    },
                    {
                      id: '3.2.3.2.2',
                      text: '因服务器异常无法继续比赛。',
                      layer: 5,
                      children: [],
                    },
                  ],
                },
                {
                  id: '3.2.3.3',
                  text: '对于起步时发生的事故，将以不同的联赛级别执行重启规则：',
                  layer: 4,
                  children: [
                    {
                      id: '3.2.3.3.1',
                      text: '白银及以下级别的联赛将不执行此条重启规则。',
                      layer: 5,
                      children: [],
                    },
                    {
                      id: '3.2.3.3.2',
                      text: '黄金及以上级别的联赛将执行此条重启规则，具体标准如下：',
                      layer: 5,
                      children: [
                        {
                          id: '3.2.3.3.2.a',
                          text: '参赛总数的1/3及以上赛车在发车前三个弯内卷入同一事故中。',
                          layer: 6,
                          children: [],
                        },
                        {
                          id: '3.2.3.3.2.b',
                          text: '参赛总数的1/3及以上赛车因游戏机制导致车辆损坏无法继续比赛。',
                          layer: 6,
                          children: [],
                        },
                        {
                          id: '3.2.3.3.2.c',
                          text: '一小时以内的冲刺赛将会对上述事故进行重启。',
                          layer: 6,
                          children: [],
                        },
                        {
                          id: '3.2.3.3.2.d',
                          text: '一小时及以上的耐力赛将会视事故的严重性决定是否重启。',
                          layer: 6,
                          children: [],
                        },
                      ],
                    },
                  ],
                },
                {
                  id: '3.2.3.4',
                  text: '除上述情况外，若因比赛特殊性可能导致重启的赛事，赛会将提前对参赛选手进行告知。',
                  layer: 4,
                  children: [],
                },
                {
                  id: '3.2.3.5',
                  text: '除以上情形外，在遇到特殊情况时，是否重开比赛的决定权归赛事主管所有。',
                  layer: 4,
                  children: [],
                },
                {
                  id: '3.2.3.5',
                  text: '每场比赛最多只允许进行一次重开比赛，如一次重开比赛后仍发生上述状况，比赛将继续进行。',
                  layer: 4,
                  children: [],
                },
              ],
            },
            {
              id: '3.2.4',
              text: '中止比赛',
              layer: 3,
              children: [
                {
                  id: 'desc_3.2.4',
                  text: '如发生以下场景，则中止比赛：',
                  layer: 4,
                  children: [],
                  hideId: true,
                },
                {
                  id: '3.2.4.1',
                  text: '若因技术故障或不可抗力造成的比赛中止，且无法重启比赛，赛会视情况决定是否择日重赛。',
                  layer: 4,
                  children: [],
                },
                {
                  id: '3.2.4.2',
                  text: '若不选择择日重赛，则按中止前一圈的冲线成绩计算比赛结果。',
                  layer: 4,
                  children: [],
                },
                {
                  id: '3.2.4.3',
                  text: '若已完成总赛程的85%，则比赛中止且不重赛，比赛按中止前一圈的冲线成绩计算全部积分。',
                  layer: 4,
                  children: [],
                },
                {
                  id: '3.2.4.4',
                  text: '若已完成总赛程的50%且不足85%，则比赛中止且不重赛，比赛按中止前一圈的冲线成绩计算50%积分。',
                  layer: 4,
                  children: [],
                },
                {
                  id: '3.2.4.5',
                  text: '若未完成总赛程的50%，将视情况重新开始比赛、延期举办比赛、或取消该场比赛。',
                  layer: 4,
                  children: [],
                },
              ],
            },
          ],
        },
        {
          id: '3.3',
          text: '冲线',
          layer: 2,
          children: [
            {
              id: '3.3.1',
              text: '在完成比赛所规定的圈数或时间后，冲过终点计时线即被认为完成比赛。',
              layer: 3,
              children: [],
            },
            {
              id: '3.3.2',
              text: '在冲过终点计时线后，车手可通过系统菜单回到维修区，或通过回场圈驶回维修区，不应于赛道上停留。违者处罚等级一。',
              layer: 3,
              children: [],
              penalties: [1],
            },
            {
              id: '3.3.3',
              text: '车手在冲过计时终点线后任何庆祝活动（如烧胎，画圈等）须于赛道缓冲区内完成，且不应对任何其他车手造成影响；若对他人造成影响，处罚等级一；若影响被套圈车手最终名次，处罚等级二或等级三。',
              layer: 3,
              children: [],
              penalties: [1, 2, 3],
            },
            {
              id: '3.3.4',
              text: '任何车手不可冲过终点计时线两次。违者处罚等级一。',
              layer: 3,
              children: [],
              penalties: [1],
            },
            {
              id: '3.3.5',
              text: '任何车手冲线后，严禁故意冲撞其他赛车。违者处罚等级二。',
              layer: 3,
              children: [],
              penalties: [2],
            },
            {
              id: '3.3.6',
              text: '比赛结束等待时间：对于采用时长计量的比赛，比赛时长低于1小时的冲刺赛（含2轮制），按每场比赛服务器杆位单圈时间的1.2倍时长计算比赛结束等待时间。1小时以上（含1小时）的耐力赛，按每场比赛服务器杆位单圈时间的1.5倍时长计算比赛结束等待时间。',
              layer: 3,
              children: [],
            },
          ],
        },
        {
          id: '3.4',
          text: '维修区',
          layer: 2,
          children: [
            {
              id: '3.4.1',
              text: '车手在进出维修区时，不可压过维修区入口和出口的白色引导线。违者处罚等级一，若车手因压过维修区白线导致发生事故，视严重程度给予处罚等级二或等级三。',
              layer: 3,
              children: [],
              penalties: [1, 2, 3],
            },
            {
              id: '3.4.2',
              text: '车手进入维修区时，须提前离开赛车线，以可控的方式进入维修区。若横跨维修区白线进站，视为获利行为，违者处罚等级二；因未提前离开赛车线，或横跨维修区白线与其他车辆发生接触，视损失情况处罚等级二或等级三。',
              layer: 3,
              children: [],
              penalties: [2, 3],
            },
            {
              id: '3.4.2.1',
              text: '如果正赛中通过第三方功能传送回维修区并存在获利行为，视赛道位置处罚等级二或等级三。',
              layer: 4,
              children: [],
              penalties: [2, 3],
            },
            {
              id: '3.4.3',
              text: '车手在离开维修区时，须谨慎驾驶，避免与赛道上车辆发生冲突，若因此发生轻微事故但不影响他人继续比赛或影响他人瞬时排名者，处罚等级二。若发生严重事故，处罚等级三。',
              layer: 3,
              children: [],
              penalties: [2, 3],
            },
            {
              id: '3.4.4',
              text: '任何时候，禁止在维修区超速。对于有系统判罚的场景，以系统判罚为准；若无系统判罚，则每次维修区超速处以处罚等级一。',
              layer: 3,
              children: [],
              penalties: [1],
            },
            {
              id: '3.4.5',
              text: '车手在离开停车位，进入维修区通道时须谨慎驾驶，在确认不会与维修区通道车辆发生冲突时方可进入维修区通道。任何维修区通道的冲突，停站完毕离开停车位的车手负全责，处罚等级一；车手在进入停车位时和其他车辆发生事故，负事故全部责任，视损伤情况处以处罚等级一至等级五。',
              layer: 3,
              children: [],
              penalties: [1, 2, 3, 4, 5],
            },
            {
              id: '3.4.6',
              text: '车手在维修区内仅可单排在维修区通道线内行驶，不可利用停车区超越前方车辆，且不可与其他车辆长时间并排。违者处罚等级一。',
              layer: 3,
              children: [],
              penalties: [1],
            },
            {
              id: '3.4.7',
              text: '在排位与正赛期间，不得在维修区的入口/出口使用过低的速度行驶或者停车，违者处罚等级二；禁止在维修区做出暖胎等危险操作，违者处罚等级二。',
              layer: 3,
              children: [],
              penalties: [2],
            },
            {
              id: '3.4.8',
              text: '维修区设有碰撞的场景，车手在维修区行驶期间，须与其他车手保持车距。若发生事故导致他人车损，处罚等级二；若发生严重事故导致多车车损、导致他人严重车损或退赛，处罚等级三；高速冲撞造成多车无法正常行驶、导致多人退赛等无视体育精神的行为，视情节可最高判罚处罚等级五。',
              layer: 3,
              children: [],
              penalties: [2, 3, 5],
            },
          ],
        },
        {
          id: '3.5',
          text: '防守',
          layer: 2,
          children: [
            {
              id: '3.5.1',
              text: '若进弯前或进弯时，当双方形成并排，防守方不能在对方完成或者放弃超越前，变线阻挡或横向挤压对方，违者处罚等级一；若因此造成对方车损或影响对方成绩，处罚等级二或等级三；若因此造成对方退赛或影响多人成绩，或造成大规模事故，处罚等级四或等级五。',
              layer: 3,
              children: [],
              penalties: [1, 2, 3, 4, 5],
            },
            {
              id: '3.5.2',
              text: '防守方仅能进行一次变线，禁止以阻挡对方超越为目的多次变线。多次变线未造成事故，处罚等级一；若因此造成对方车损或影响对方成绩，处罚等级二或等级三；若因此造成对方退赛或影响多人成绩，或造成大规模事故，处罚等级四或等级五。',
              layer: 3,
              children: [],
              penalties: [1, 2, 3, 4, 5],
            },
            {
              id: '3.5.3',
              text: '在排位赛时，车手不得对其他车手进行任何方式的阻挡。出场圈车手发现飞行圈车辆快速接近，应让出线路，违者处罚等级一；若在限时排位中因此发生事故，处罚等级二，若在超级排位中因此发生事故，处罚等级三。',
              layer: 3,
              children: [],
              penalties: [1, 2, 3],
            },
            {
              id: '3.5.4',
              text: '防守过程中，不得以任何方式妨碍或破坏其他车手的正常比赛。严禁做出危险动作，包括但不限于：\n后车有明显的接近或超越趋势、前后距离不足半个车身的情况下，前车突然变线阻挡后车的抽头超越动作；\n在非刹车区域故意制动影响后车。\n若危险防守动作未引发事故，处罚等级一；若危险动作引发事故，视其引发的事故大小，处罚等级二至等级五。',
              layer: 3,
              children: [],
              penalties: [1, 2, 3, 4, 5],
            },
          ],
        },
        {
          id: '3.6',
          text: '进攻',
          layer: 2,
          children: [
            {
              id: '3.6.1',
              text: '进攻方有责任实时观察赛道情况并保持足够的安全距离，避免与其他车辆发生接触。若因自己失误造成的顶撞前车，造成对方车损或影响对方成绩，处罚等级二或等级三；若因此造成对方退赛或影响多人成绩，或造成大规模事故，处罚等级四或等级五。',
              layer: 3,
              children: [],
              penalties: [2, 3, 4, 5],
            },
            {
              id: '3.6.2',
              text: '进攻方在未达成并排条件前，不得强行进入前车的行车线路。在前车开始入弯后，仍未达成并排条件的，进攻方应避免继续深入内线。若因此造成对方车损或影响对方成绩，处罚等级二或等级三；若因此造成对方退赛或影响多人成绩，或造成大规模事故，处罚等级四或等级五。',
              layer: 3,
              children: [],
              penalties: [2, 3, 4, 5],
            },
            {
              id: '3.6.3',
              text: '车手可以随时进行外线进攻，但不得挤压对方空间，若因此造成对方车损或影响对方成绩，处罚等级二或等级三；若因此造成对方退赛或影响多人成绩，或造成大规模事故，处罚等级四或等级五。',
              layer: 3,
              children: [],
              penalties: [2, 3, 4, 5],
            },
            {
              id: '3.6.4',
              text: '在排位赛时，车手不得对前方正常驾驶的车手进行任何方式的进攻尝试，处罚等级一；若在限时排位中因此发生事故，处罚等级二；若在超级排位中因此发生事故，处罚等级三。',
              layer: 3,
              children: [],
              penalties: [1, 2, 3],
            },
            {
              id: '3.6.5',
              text: '进攻过程中，不得以任何方式妨碍或破坏其他车手的正常比赛。严禁做出危险动作，包括但不限于：\n在距离前车多个车身的情况下，进攻方为争抢内线位置，相较理想刹车点大幅延迟刹车，进入前车内线后，无法维持在赛道边界内或导致接触；\n为干扰前车动态，故意顶推前车后保险杠或顶撞前车后轮。\n若危险进攻动作未引发事故，处罚等级一；若危险动作引发事故，视其引发的事故大小，处罚等级二至等级五。',
              layer: 3,
              children: [],
              penalties: [1, 2, 3, 4, 5],
            },
          ],
        },
        {
          id: '3.7',
          text: '并排',
          layer: 2,
          children: [
            {
              id: '3.7.1',
              text: '并排标准为，后车前轮轴心达到前车后轮轴心处。当双方或多车并排时，不得以破坏对手线路为目的挤压对方，直到其中一方超车完成。若因此造成对方车损或影响对方成绩，处罚等级二或等级三；若因此造成对方退赛或影响多人成绩，或造成大规模事故，处罚等级四或等级五。',
              layer: 3,
              children: [],
              penalties: [2, 3, 4, 5],
            },
            {
              id: '3.7.2',
              text: '若前方有车并排，本车可以在遵守3.6条的前提下进攻参与缠斗。除前两位缠斗者以外的参与者，若在前轮轴心未达到前车后轮轴心处之前，因抢占线路造成有1名缠斗者发生事故，造成对方车损或影响对方成绩，处罚等级二或等级三；若因此造成对方退赛或影响多人成绩，或造成大规模事故，处罚等级四或等级五。',
              layer: 3,
              children: [],
              penalties: [2, 3, 4, 5],
            },
          ],
        },
        {
          id: '3.8',
          text: '失控',
          layer: 2,
          children: [
            {
              id: '3.8.1',
              text: '车手在完全失去对车辆速度与轨迹的控制时，或驶出赛道，均被判为失控。',
              layer: 3,
              children: [],
            },
            {
              id: '3.8.2',
              text: '车手失控后，将失去所有的赛道优先权，尽可能的离开赛车线，或减速控制赛车，避免二次事故。若失控后因主观错误操作，造成正常驾驶的他人车损或影响他人成绩，视情况处罚等级一或等级二；若因此造成对方退赛或影响多人成绩，或造成大规模事故，视情况处罚等级三或等级四。',
              layer: 3,
              children: [],
              penalties: [1, 2, 3, 4],
            },
            {
              id: '3.8.3',
              text: '失控车手返回赛道时，无任何优先权，返回赛道时车头应尽可能的与赛道行驶方向平行，在恢复比赛速度前，应尽可能避免侵占赛车线。选手须在不影响任何其他车手正常行驶的情况下返回赛道。若返回过程中造成正常驾驶的他人车损或影响他人成绩，视情况处罚等级二或等级三；若因此造成对方退赛或影响多人成绩，或造成大规模事故，视情况处罚等级四或等级五。',
              layer: 3,
              children: [],
              penalties: [2, 3, 4, 5],
            },
            {
              id: '3.8.4',
              text: '如赛车失控后位于赛车线上，车手在有后车的情况下应保持静止，以便后车安全的躲避。因移动造成事故影响正常驾驶的他人车损或影响他人成绩，视情况处罚等级二或等级三；若因此造成对方退赛或影响多人成绩，或造成大规模事故，视情况处罚等级三或等级四。',
              layer: 3,
              children: [],
              penalties: [2, 3, 4],
            },
            {
              id: '3.8.5',
              text: '受事故损坏车辆在以低于正常比赛速度返回维修区时，无任何赛道优先权，须安全主动允许所有车辆进行超越。若返回过程中造成事故影响正常驾驶的他人车损或影响他人成绩，视情况处罚等级二或等级三；若因此造成对方退赛或影响多人成绩，或造成大规模事故，视情况处罚等级三或等级四。',
              layer: 3,
              children: [],
              penalties: [2, 3, 4],
            },
          ],
        },
        {
          id: '3.9',
          text: '出界',
          layer: 2,
          children: [
            {
              id: '3.9.1',
              text: '出界定义：四轮全部在赛道规定的边界白线外且没有轮胎压在白线上。',
              layer: 3,
              children: [],
            },
            {
              id: '3.9.2',
              text: 'Cut定义：当出界可以帮助获得优势时，定义为cut（赛道外获利）。任何出界均以是否获利为基准判断，任何获利行为都可认定为无效成绩，对于利用漏洞获利的行为可能会受到进一步的处罚。',
              layer: 3,
              children: [],
            },
            {
              id: '3.9.3',
              text: '除特别说明外，cut判断以游戏系统为基准，在一般情况下，系统没有判为cut的驾驶行为将视为合法。系统判定的cut以系统判定为准，在系统漏判明显cut的情况下，将由赛会干事裁定该情况是否为cut。',
              layer: 3,
              children: [],
            },
            {
              id: '3.9.4',
              text: '排位赛中出界：排位赛中不得故意cut赛道获得位置优势，违者处罚等级一。若失误出界，返回赛道需遵守3.8条的内容。不得以任何形式故意冲出赛道获取不当的出弯优势，为下一个飞行圈获得尾速优势，违者处罚等级三。',
              layer: 3,
              children: [],
              penalties: [1, 3],
            },
            {
              id: '3.9.5',
              text: '对于需要强调cut行为的赛事，在比赛开始前，赛会将公布本场比赛赛道中的cut警示弯角，此类弯角的任何cut行为将视为非法。在cut警示弯角的任何cut行为，在不被系统判为cut的情况下，仍将被视为非法。',
              layer: 3,
              children: [],
            },
            {
              id: '3.9.6',
              text: '正赛中，允许车手失误造成的瞬时出界，但不得在该情况中获利，以该行为获利将视为cut。整场比赛不允许累计3个弯角及以上的瞬时cut，违者视情况罚时并视情况处罚等级一。',
              layer: 3,
              children: [],
              penalties: [1],
            },
            {
              id: '3.9.7',
              text: '若因失误造成整车严重偏离赛道的出界，视为失控，需遵守3.8条规定。',
              layer: 3,
              children: [],
            },
            {
              id: '3.9.8',
              text: '比赛中禁止利用赛道外的空间获得优势超车，违规获利超车后应在3个弯道内主动交还位置，违者处罚等级二；若利用cut超车且不归还位置者，处罚等级三；若cut超车同时引起事故影响他人成绩，处罚等级二或等级三；造成对方退赛或影响多人成绩，或造成大规模事故，处罚等级四或等级五。',
              layer: 3,
              children: [],
              penalties: [2, 3, 4, 5],
            },
            {
              id: '3.9.9',
              text: '车辆在冲出赛道后，禁止选手对在赛道外或返回赛道的途中对赛道边的参照物（如刹车牌、锥桶、弯道指示牌等）进行撞击，若选手对参照物发生碰撞导致其损坏，影响到其他参赛选手正常驾驶，处罚等级二。',
              layer: 3,
              children: [],
              penalties: [2],
            },
          ],
        },
        {
          id: '3.10',
          text: '套圈',
          layer: 2,
          children: [
            {
              id: '3.10.1',
              text: '套圈定义：若后车领先前车一圈以上，且后车与前车距离近至足够进行超越时，适用套圈规则。在套圈规则下，前车将会被出示蓝旗。',
              layer: 3,
              children: [],
            },
            {
              id: '3.10.2',
              text: '当被出示蓝旗且后车达到超越条件时，在确保安全的前提下，前车应尽快允许后车主动超越。若前车在赛道条件允许让车的情况下长时间不让车，或采取错误的让车行为导致后车损失时间，处罚等级二；若因蓝旗让车发生事故，视情节轻重，处罚等级三或等级四。错误的让车行为包括但不限于：\n在赛车线出弯减速；\n在快车快速接近时突然变线；\n被套圈时立刻采取反套圈的行为。',
              layer: 3,
              children: [],
              penalties: [2, 3, 4],
            },
            {
              id: '3.10.3',
              text: '在被套圈车辆明显快于套圈车辆的情况下，被套圈车手可选择反套圈，若在5个弯角内被套圈车手成功离开套圈车手的进攻距离，方可保持自己的位置。反之，则须遵守第3.10.2条，主动允许后车超越。',
              layer: 3,
              children: [],
            },
          ],
        },
        {
          id: '3.11',
          text: '线上赛事公平性竞技规则',
          layer: 2,
          children: [
            {
              id: '3.11.1',
              text: '排位赛或者正赛期间，因网络连接问题影响到其他车手的选手，将被移出服务器。在解决网络问题前，禁止参加该场赛事。',
              layer: 3,
              children: [],
            },
            {
              id: '3.11.2',
              text: '任何时段，持续停在行车线上的选手，将被移出服务器。',
              layer: 3,
              children: [],
            },
            {
              id: '3.11.3',
              text: '所有参与比赛的车手均需使用本人的嗨跑注册账号参与比赛，禁止冒用他人账号及游戏ID，禁止将账号私自出借给非本人外其他人员参与比赛，禁止替代他人参与比赛。一经查实出借账号或ID者及代替他人参与比赛者视具体情节处处罚等级四或以上。',
              layer: 3,
              children: [],
              penalties: [4, 5],
            },
            {
              id: '3.11.4',
              text: '所有参与比赛的车手需独立进行赛车驾驶操作，不得接受非车手本人操作以外的外力、硬件或软件手段帮助参与驾驶行为，包括但不限于：加速，制动，操控转向，调整车内控制选项。违者视具体情节处处罚等级四或以上。',
              layer: 3,
              children: [],
              penalties: [4, 5],
            },
            {
              id: '3.11.5',
              text: '所有参与比赛的车手不得使用任何非法技术手段或其他嗨跑赛事委员会禁止的方式篡改、破坏模拟软件的客户端或服务端代码及数据以获取不正当利益。违者处处罚等级五。',
              layer: 3,
              children: [],
              penalties: [5],
            },
            {
              id: '3.11.6',
              text: '线上服务器内不公平行为包括但不限于：利用规则漏洞、游戏BUG等非法获利，或影响比赛正常进行。若该行为发生在比赛期间则参照比赛规则进行处理，非比赛期间违者将被移出服务器。',
              layer: 3,
              children: [],
            },
            {
              id: '3.11.7',
              text: '任何时候，若在本平台发生任何违反体育精神、违背体育道德的行为，赛会均有权在发现这类行为后，对当事人处以扣除驾照分、禁赛或取消其参赛资格等处罚。',
              layer: 3,
              children: [],
            },
            {
              id: '3.11.8',
              text: '线上比赛时，禁止使用任何游戏漏洞、或者第三方工具的快捷操作、或者其他做出违背汽车运动以及与现实比赛严重不符的获利行为，违者以严重违反体育精神、违背体育道德的行为处理，赛事干事有权利在发现这类行为时采取扣除安全分、禁赛等相对严厉的处罚。',
              layer: 3,
              children: [],
            },
            {
              id: '3.11.9',
              text: '任何选手都不得人身攻击、拱火、嘲讽其他选手；在官方赛事社群或社交媒体上，不得以人身攻击、拱火、嘲讽其他选手等目的，公开或匿名的方式转发其他选手的言论或行为。因此行为造成过多不必要讨论，导致浪费网络资源与他人时间精力的选手，将以严重违反体育精神、违背体育道德的行为进行处罚。',
              layer: 3,
              children: [],
            },
          ],
        },
        {
          id: '3.12',
          text: '处罚程度',
          layer: 2,
          children: [
            {
              id: 'desc_3.12',
              text: '处罚程度分为5个等级，级别越高处罚越重。每个处罚等级有不同的处罚方式，每个联赛的发布，都会把对应的处罚等级，以及每个等级对应的处罚项目同时公布。在3.1-3.11条例中，判定了违规的对应处罚等级，实际处罚以赛会在该等级下的当前比赛处罚项目中裁定。',
              layer: 3,
              children: [],
              hideId: true,
            },
          ],
        },
        {
          id: '3.13',
          text: '赛事主管',
          layer: 2,
          children: [
            {
              id: 'desc_3.13',
              text: '赛事主管为赛会指派的赛事官员。赛事主管的责任为：',
              layer: 3,
              children: [],
              hideId: true,
            },
            {
              id: '3.13.1',
              text: '对排位赛和正赛的监督和管理，确保各项目按时开始，并在特殊情况下有权对赛事开始时间进行修改。',
              layer: 3,
              children: [],
            },
            {
              id: '3.13.2',
              text: '实时仲裁比赛，叫停任何严重违反竞技规则的车手',
              layer: 3,
              children: [],
            },
            {
              id: '3.13.3',
              text: '在赛事异常时，重启、暂停或终止项目。',
              layer: 3,
              children: [],
            },
            {
              id: '3.13.4',
              text: '指挥发车程序',
              layer: 3,
              children: [],
            },
            {
              id: '3.13.5',
              text: '对BoP进行控制',
              layer: 3,
              children: [],
            },
            {
              id: '3.13.6',
              text: '比赛成绩的记录、检查和发布。',
              layer: 3,
              children: [],
            },
          ],
        },
      ],
    },
    {
      id: '4',
      text: '判罚',
      layer: 1,
      children: [
        {
          id: '4.1',
          text: '判罚方式',
          layer: 2,
          children: [
            {
              id: '4.1.1',
              text: '任何嗨跑赛事的判罚由赛会负责，分为主动判罚和被动判罚\n赛事主管在赛事过程中或赛事后在无投诉的情况下对任何违规的判罚，以及所有的非赛事判罚称为主动判罚\n任何由投诉所引发的，经过仲裁后决定的判罚为被动判罚',
              layer: 3,
              children: [],
            },
            {
              id: '4.1.2',
              text: '所有主动与被动判罚结果将公示。',
              layer: 3,
              children: [],
            },
          ],
        },
        {
          id: '4.2',
          text: '投诉',
          layer: 2,
          children: [
            {
              id: '4.2.1',
              text: '在赛事结束后24小时内，为赛事投诉期。所有投诉须在投诉期内完成，禁止车手代他人投诉。',
              layer: 3,
              children: [],
            },
            {
              id: '4.2.2',
              text: '如投诉为非赛事投诉，无投诉期限。',
              layer: 3,
              children: [],
            },
            {
              id: '4.2.3',
              text: '投诉应遵循投诉规则。',
              layer: 3,
              children: [],
            },
            {
              id: '4.2.4',
              text: '每次投诉仅可针对一名车手（或赛事官员）。若车手需对多名车手（或赛事官员）进行投诉，须分别对每一位车手进行一次投诉。',
              layer: 3,
              children: [],
            },
            {
              id: '4.2.5',
              text: '每场比赛的投诉窗口结束后，所有投诉将由赛会进行调查，并于7个工作日内公示仲裁结果。',
              layer: 3,
              children: [],
            },
          ],
        },
        {
          id: '4.3',
          text: '申诉',
          layer: 2,
          children: [
            {
              id: '4.3.1',
              text: '任何被判罚的车手有权向赛会提出申诉。',
              layer: 3,
              children: [],
            },
            {
              id: '4.3.2',
              text: '未被判罚车手不可替代被判罚车手进行申诉。',
              layer: 3,
              children: [],
            },
            {
              id: '4.3.3',
              text: '仲裁结果发布后24小时内为申诉期，赛会不接受逾时申诉。',
              layer: 3,
              children: [],
            },
            {
              id: '4.3.4',
              text: '申诉期结束后，所有申诉由赛会进行调查，调查结果于48小时内公示。申诉结果公布后不接受再次申诉，比赛结果以申诉结果为准。',
              layer: 3,
              children: [],
            },
            {
              id: '4.3.5',
              text: '赛会对任何调查结果拥有最终解释权。',
              layer: 3,
              children: [],
            },
          ],
        },
      ],
    },
    {
      id: '5',
      text: '处罚细则',
      layer: 1,
      children: [
        {
          id: '5.1',
          text: '新手级赛事处罚程度细则',
          layer: 2,
          children: [
            {
              id: '5.1.1',
              text: '警告，两次同系列赛事警告升级处罚等级一。',
              layer: 3,
              children: [],
            },
            {
              id: '5.1.2',
              text: '处罚等级一：罚时5秒/10秒，扣除驾照分0分，如有重复违规可累加',
              layer: 3,
              children: [],
            },
            {
              id: '5.1.3',
              text: '处罚等级二：罚时5秒/10秒/25秒，扣除驾照分0-1分，如有重复违规可累加',
              layer: 3,
              children: [],
            },
            {
              id: '5.1.4',
              text: '处罚等级三：罚时25秒/50秒，扣除驾照分1-3分，2次重复违规提升处罚至处罚等级四',
              layer: 3,
              children: [],
            },
            {
              id: '5.1.5',
              text: '处罚等级四：取消本站成绩，扣除驾照分2-8分',
              layer: 3,
              children: [],
            },
            {
              id: '5.1.6',
              text: '处罚等级五：取消本站成绩并禁赛一场新手级联赛，扣除驾照分3-12分',
              layer: 3,
              children: [],
            },
          ],
        },
        {
          id: '5.2',
          text: '青铜、白银级别赛事处罚程度细则',
          layer: 2,
          children: [
            {
              id: '5.2.1',
              text: '警告，两次同系列赛事警告升级处罚等级一。',
              layer: 3,
              children: [],
            },
            {
              id: '5.2.2',
              text: '处罚等级一：罚时5秒/10秒，扣除驾照分0分，如有重复违规可累加',
              layer: 3,
              children: [],
            },
            {
              id: '5.2.3',
              text: '处罚等级二：罚时5秒/10秒/25秒，扣除驾照分1-2分，如有重复违规可累加',
              layer: 3,
              children: [],
            },
            {
              id: '5.2.4',
              text: '处罚等级三：罚时25秒/50秒，扣除驾照分2-4分，2次重复违规提升处罚至处罚等级四',
              layer: 3,
              children: [],
            },
            {
              id: '5.2.5',
              text: '处罚等级四：取消本站成绩，扣除驾照分3-8分',
              layer: 3,
              children: [],
            },
            {
              id: '5.2.6',
              text: '处罚等级五：取消本站成绩并禁赛下一场同等级联赛，扣除驾照分4-12分',
              layer: 3,
              children: [],
            },
          ],
        },
        {
          id: '5.3',
          text: '黄金、铂金级别赛事处罚程度细则',
          layer: 2,
          children: [
            {
              id: '5.3.1',
              text: '警告，两次同系列赛事警告升级处罚等级一。',
              layer: 3,
              children: [],
            },
            {
              id: '5.3.2',
              text: '处罚等级一：罚时5秒/10秒/15秒，扣除驾照分1分，如有重复违规可累加',
              layer: 3,
              children: [],
            },
            {
              id: '5.3.3',
              text: '处罚等级二：罚时10秒/15秒/30秒，扣除驾照分2-3分，如有重复违规可累加',
              layer: 3,
              children: [],
            },
            {
              id: '5.3.4',
              text: '处罚等级三：罚时30秒/60秒/90秒，扣除驾照分3-5分，2次重复违规提升处罚至处罚等级四',
              layer: 3,
              children: [],
            },
            {
              id: '5.3.5',
              text: '处罚等级四：取消本站成绩，扣除驾照分4-8分',
              layer: 3,
              children: [],
            },
            {
              id: '5.3.6',
              text: '处罚等级五：取消本站成绩并禁赛下一场同等级联赛，扣除驾照分5-12分',
              layer: 3,
              children: [],
            },
          ],
        },
      ],
    },
  ],
}

export const findRules = (
  predicate: (item: OnlineRuleItem) => boolean,
): OnlineRuleItem[] => {
  const result: OnlineRuleItem[] = []

  const dfs = (items: OnlineRuleItem[]) => {
    for (const item of items) {
      if (predicate(item)) {
        result.push(item)
      }
      if (item.children && item.children.length > 0) {
        dfs(item.children)
      }
    }
  }

  dfs(onlineRules.content)
  return result
}
